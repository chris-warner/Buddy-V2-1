{"ast":null,"code":"import _defineProperty from \"/Users/mac/Documents/GitHub/Buddy-V2-1/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/mac/Documents/GitHub/Buddy-V2-1/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mac/Documents/GitHub/Buddy-V2-1/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mac/Documents/GitHub/Buddy-V2-1/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mac/Documents/GitHub/Buddy-V2-1/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/mac/Documents/GitHub/Buddy-V2-1/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/mac/Documents/GitHub/Buddy-V2-1/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mac/Documents/GitHub/Buddy-V2-1/client/src/components/Search/search.js\";\nimport React, { Component, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { InputGroup, FormControl, Button } from 'react-bootstrap';\nimport { withRouter } from 'react-router-dom';\nimport RealDataBase from '../../RealDataBase';\n\nvar SearchComponent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SearchComponent, _React$Component);\n\n  function SearchComponent(props) {\n    var _this;\n\n    _classCallCheck(this, SearchComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchComponent).call(this, props));\n\n    _this.onChange = function (e) {\n      //updates state from props on change.\n      _this.setState({\n        dogs: _this.props.dogs\n      });\n\n      console.log(_this.state.dogs);\n      var suggestions = _this.props.suggestions;\n      var userInput = e.currentTarget.value;\n      var filteredSuggestions = suggestions.filter(function (suggestion) {\n        return suggestion.toLowerCase().indexOf(userInput.toLowerCase()) > -1;\n      });\n\n      _this.setState({\n        activeSuggestion: 0,\n        filteredSuggestions: filteredSuggestions,\n        showSuggestions: true,\n        userInput: e.currentTarget.value\n      });\n    };\n\n    _this.onClick = function (e) {\n      _this.setState({\n        activeSuggestion: 0,\n        filteredSuggestions: [],\n        showSuggestions: false,\n        userInput: e.currentTarget.innerText\n      });\n    };\n\n    _this.onKeyDown = function (e) {\n      var _this$state = _this.state,\n          activeSuggestion = _this$state.activeSuggestion,\n          filteredSuggestions = _this$state.filteredSuggestions;\n\n      if (e.keyCode === 13) {\n        _this.setState({\n          activeSuggestion: 0,\n          showSuggestions: false,\n          userInput: filteredSuggestions[activeSuggestion]\n        });\n      } else if (e.keyCode === 38) {\n        if (activeSuggestion === 0) {\n          return;\n        }\n\n        _this.setState({\n          activeSuggestion: activeSuggestion - 1\n        });\n      } else if (e.keyCode === 40) {\n        if (activeSuggestion - 1 === filteredSuggestions.length) {\n          return;\n        }\n\n        _this.setState({\n          activeSuggestion: activeSuggestion + 1\n        });\n      }\n    };\n\n    _this.state = {\n      dogs: _this.props.dogs,\n      userInput: \"\",\n      currentZip: 0\n    };\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(SearchComponent, [{\n    key: \"render\",\n    value: function render() {\n      var _React$createElement, _React$createElement2;\n\n      var onChange = this.onChange,\n          onClick = this.onClick,\n          onKeyDown = this.onKeyDown,\n          _this$state2 = this.state,\n          activeSuggestion = _this$state2.activeSuggestion,\n          filteredSuggestions = _this$state2.filteredSuggestions,\n          showSuggestions = _this$state2.showSuggestions,\n          userInput = _this$state2.userInput;\n      var suggestionsListComponent;\n\n      if (showSuggestions && userInput) {\n        if (filteredSuggestions.length) {\n          suggestionsListComponent = React.createElement(\"ul\", {\n            class: \"suggestions\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 104\n            },\n            __self: this\n          }, filteredSuggestions.map(function (suggestion, index) {\n            var className;\n\n            if (index === activeSuggestion) {\n              className = \"suggestion-active\";\n            }\n\n            return React.createElement(\"li\", {\n              className: className,\n              key: suggestion,\n              onClick: onClick,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 113\n              },\n              __self: this\n            }, suggestion);\n          }));\n        } else {\n          suggestionsListComponent = React.createElement(\"div\", {\n            class: \"no-suggestions\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 126\n            },\n            __self: this\n          }, React.createElement(\"em\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127\n            },\n            __self: this\n          }, \"No suggestions, you're on your own!\"));\n        }\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"search-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, this.props.children), this.state.text, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Find buddies in your neighborhood\")), React.createElement(\"div\", {\n        className: \"search-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(InputGroup, {\n        className: \"mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-map-marker-alt icon\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }), React.createElement(FormControl, (_React$createElement = {\n        onChange: this.handleChange,\n        className: \"input\",\n        placeholder: \"zip code\",\n        \"aria-label\": \"zip code\",\n        \"aria-describedby\": \"basic-addon2\"\n      }, _defineProperty(_React$createElement, \"onChange\", onChange), _defineProperty(_React$createElement, \"onKeyDown\", onKeyDown), _defineProperty(_React$createElement, \"value\", userInput), _defineProperty(_React$createElement, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement)), React.createElement(InputGroup.Append, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(Button, (_React$createElement2 = {\n        onClick: this.handleClick,\n        className: \"search-button\",\n        variant: \"outline-secondary\"\n      }, _defineProperty(_React$createElement2, \"onClick\", this.handleClick), _defineProperty(_React$createElement2, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      }), _defineProperty(_React$createElement2, \"__self\", this), _React$createElement2), React.createElement(\"i\", {\n        className: \"fa fa-search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      })))), suggestionsListComponent));\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      console.log(this.state.userInput);\n      RealDataBase.currentZip = this.state.userInput;\n      this.props.history.push({\n        pathname: '/dogs',\n        search: this.state.userInput,\n        state: {\n          dogs: this.state.dogs\n        }\n      });\n    }\n  }]);\n\n  return SearchComponent;\n}(React.Component);\n\nSearchComponent.propTypes = {\n  suggestions: PropTypes.instanceOf(Array)\n};\nSearchComponent.defaultProps = {\n  suggestions: []\n};\nexport default withRouter(SearchComponent);","map":{"version":3,"sources":["/Users/mac/Documents/GitHub/Buddy-V2-1/client/src/components/Search/search.js"],"names":["React","Component","Fragment","PropTypes","InputGroup","FormControl","Button","withRouter","RealDataBase","SearchComponent","props","onChange","e","setState","dogs","console","log","state","suggestions","userInput","currentTarget","value","filteredSuggestions","filter","suggestion","toLowerCase","indexOf","activeSuggestion","showSuggestions","onClick","innerText","onKeyDown","keyCode","length","currentZip","handleClick","bind","suggestionsListComponent","map","index","className","children","text","handleChange","history","push","pathname","search","propTypes","instanceOf","Array","defaultProps"],"mappings":"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","sourcesContent":["\nimport React, { Component, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { InputGroup, FormControl, Button } from 'react-bootstrap';\nimport { withRouter } from 'react-router-dom'\nimport RealDataBase from '../../RealDataBase';\n\nclass SearchComponent extends React.Component {\n  static propTypes = {\n    suggestions: PropTypes.instanceOf(Array)\n  };\n\n  static defaultProps = {\n    suggestions: []\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      dogs:this.props.dogs,\n      userInput: \"\",\n      currentZip:0\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n\n  onChange = e => {\n    //updates state from props on change.\n    this.setState({dogs:this.props.dogs})\n    console.log(this.state.dogs)\n    const { suggestions } = this.props;\n    const userInput = e.currentTarget.value;\n\n    const filteredSuggestions = suggestions.filter(\n      suggestion =>\n        suggestion.toLowerCase().indexOf(userInput.toLowerCase()) > -1\n    );\n\n\n    this.setState({\n      activeSuggestion: 0,\n      filteredSuggestions,\n      showSuggestions: true,\n      userInput: e.currentTarget.value\n    });\n  };\n\n\n  onClick = e => {\n    this.setState({\n      activeSuggestion: 0,\n      filteredSuggestions: [],\n      showSuggestions: false,\n      userInput: e.currentTarget.innerText,\n    });\n  };\n\n  onKeyDown = e => {\n    const { activeSuggestion, filteredSuggestions } = this.state;\n\n    if (e.keyCode === 13) {\n      this.setState({\n        activeSuggestion: 0,\n        showSuggestions: false,\n        userInput: filteredSuggestions[activeSuggestion]\n      });\n    }\n    else if (e.keyCode === 38) {\n      if (activeSuggestion === 0) {\n        return;\n      }\n\n      this.setState({ activeSuggestion: activeSuggestion - 1 });\n    }\n    else if (e.keyCode === 40) {\n      if (activeSuggestion - 1 === filteredSuggestions.length) {\n        return;\n      }\n\n      this.setState({ activeSuggestion: activeSuggestion + 1 });\n    }\n  };\n\n  render() {\n    const {\n      onChange,\n      onClick,\n      onKeyDown,\n      state: {\n        activeSuggestion,\n        filteredSuggestions,\n        showSuggestions,\n        userInput\n      }\n    } = this;\n\n    let suggestionsListComponent;\n\n    if (showSuggestions && userInput) {\n      if (filteredSuggestions.length) {\n        suggestionsListComponent = (\n          <ul class=\"suggestions\">\n            {filteredSuggestions.map((suggestion, index) => {\n              let className;\n\n              if (index === activeSuggestion) {\n                className = \"suggestion-active\";\n              }\n\n              return (\n                <li\n                  className={className}\n                  key={suggestion}\n                  onClick={onClick}\n                >\n                  {suggestion}\n                </li>\n              );\n            })}\n          </ul>\n        );\n      } else {\n        suggestionsListComponent = (\n          <div class=\"no-suggestions\">\n            <em>No suggestions, you're on your own!</em>\n          </div>\n        );\n      }\n    }\n\n    return (\n      <div>\n      <div className=\"search-container\">\n      <h1>{this.props.children}</h1>\n      {this.state.text}\n          <p>Find buddies in your neighborhood</p>\n      </div>\n      <div className=\"search-box\">\n          <InputGroup className=\"mb-3\">\n              <i className=\"fas fa-map-marker-alt icon\" aria-hidden=\"true\"></i>\n              <FormControl onChange={this.handleChange} className=\"input\"\n                  placeholder=\"zip code\"\n                  aria-label=\"zip code\"\n                  aria-describedby=\"basic-addon2\"\n                  onChange={onChange}\n              onKeyDown={onKeyDown}\n              value={userInput}\n\n              />\n              <InputGroup.Append>\n                  <Button onClick={this.handleClick} className=\"search-button\" variant=\"outline-secondary\" onClick={this.handleClick}><i className=\"fa fa-search\"></i></Button>\n              </InputGroup.Append>                        \n          </InputGroup>\n          {suggestionsListComponent}\n\n      </div>\n      \n      </div>\n    )\n  }\n  \n\n  handleClick(e) {\n   \n    console.log(this.state.userInput);\n    RealDataBase.currentZip = this.state.userInput\n     this.props.history.push({\n      pathname: '/dogs',\n      search: this.state.userInput,\n      state: { dogs: this.state.dogs}\n    })\n  }\n\n}\n\n\nexport default withRouter(SearchComponent);\n\n\n"]},"metadata":{},"sourceType":"module"}