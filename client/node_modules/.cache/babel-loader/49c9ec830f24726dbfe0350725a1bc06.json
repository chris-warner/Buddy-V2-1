{"ast":null,"code":"import _defineProperty from\"/Users/mac/Documents/GitHub/Buddy-V2-1/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/mac/Documents/GitHub/Buddy-V2-1/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mac/Documents/GitHub/Buddy-V2-1/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mac/Documents/GitHub/Buddy-V2-1/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mac/Documents/GitHub/Buddy-V2-1/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/mac/Documents/GitHub/Buddy-V2-1/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/mac/Documents/GitHub/Buddy-V2-1/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component,Fragment}from\"react\";import{InputGroup,FormControl,Button}from'react-bootstrap';import{withRouter}from'react-router-dom';import RealDataBase from'../../RealDataBase';var SearchComponent=/*#__PURE__*/function(_React$Component){_inherits(SearchComponent,_React$Component);function SearchComponent(props){var _this;_classCallCheck(this,SearchComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(SearchComponent).call(this,props));_this.onChange=function(e){//updates state from props on change.\n_this.setState({dogs:_this.props.dogs});console.log(_this.state.dogs);var suggestions=_this.props.suggestions;var userInput=e.currentTarget.value;var filteredSuggestions=suggestions.filter(function(suggestion){return suggestion.toLowerCase().indexOf(userInput.toLowerCase())>-1;});_this.setState({activeSuggestion:0,filteredSuggestions:filteredSuggestions,showSuggestions:true,userInput:e.currentTarget.value});};_this.onClick=function(e){_this.setState({activeSuggestion:0,filteredSuggestions:[],showSuggestions:false,userInput:e.currentTarget.innerText});};_this.onKeyDown=function(e){var _this$state=_this.state,activeSuggestion=_this$state.activeSuggestion,filteredSuggestions=_this$state.filteredSuggestions;if(e.keyCode===13){_this.setState({activeSuggestion:0,showSuggestions:false,userInput:filteredSuggestions[activeSuggestion]});}else if(e.keyCode===38){if(activeSuggestion===0){return;}_this.setState({activeSuggestion:activeSuggestion-1});}else if(e.keyCode===40){if(activeSuggestion-1===filteredSuggestions.length){return;}_this.setState({activeSuggestion:activeSuggestion+1});}};_this.state={dogs:_this.props.dogs,userInput:\"\",currentZip:0};_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));return _this;}_createClass(SearchComponent,[{key:\"render\",value:function render(){var _React$createElement;var onChange=this.onChange,onClick=this.onClick,onKeyDown=this.onKeyDown,_this$state2=this.state,activeSuggestion=_this$state2.activeSuggestion,filteredSuggestions=_this$state2.filteredSuggestions,showSuggestions=_this$state2.showSuggestions,userInput=_this$state2.userInput;var suggestionsListComponent;if(showSuggestions&&userInput){if(filteredSuggestions.length){suggestionsListComponent=React.createElement(\"ul\",{class:\"suggestions\"},filteredSuggestions.map(function(suggestion,index){var className;if(index===activeSuggestion){className=\"suggestion-active\";}return React.createElement(\"li\",{className:className,key:suggestion,onClick:onClick},suggestion);}));}else{suggestionsListComponent=React.createElement(\"div\",{class:\"no-suggestions\"},React.createElement(\"em\",null,\"No suggestions, you're on your own!\"));}}return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"search-container\"},React.createElement(\"h1\",null,this.props.children),this.state.text,React.createElement(\"p\",null,\"Find buddies in your neighborhood\")),React.createElement(\"div\",{className:\"search-box\"},React.createElement(InputGroup,{className:\"mb-3\"},React.createElement(\"i\",{className:\"fas fa-map-marker-alt icon\",\"aria-hidden\":\"true\"}),React.createElement(FormControl,(_React$createElement={onChange:this.handleChange,className:\"input\",placeholder:\"zip code\",\"aria-label\":\"zip code\",\"aria-describedby\":\"basic-addon2\"},_defineProperty(_React$createElement,\"onChange\",onChange),_defineProperty(_React$createElement,\"onKeyDown\",onKeyDown),_defineProperty(_React$createElement,\"value\",userInput),_React$createElement)),React.createElement(InputGroup.Append,null,React.createElement(Button,_defineProperty({onClick:this.handleClick,className:\"search-button\",variant:\"outline-secondary\"},\"onClick\",this.handleClick),React.createElement(\"i\",{className:\"fa fa-search\"})))),suggestionsListComponent));}},{key:\"handleClick\",value:function handleClick(e){console.log(this.state.userInput);RealDataBase.currentZip=this.state.userInput;this.props.history.push({pathname:'/dogs',search:this.state.userInput,state:{dogs:this.state.dogs}});}}]);return SearchComponent;}(React.Component);SearchComponent.defaultProps={suggestions:[]};export default withRouter(SearchComponent);","map":{"version":3,"sources":["/Users/mac/Documents/GitHub/Buddy-V2-1/client/src/components/Search/search.js"],"names":["React","Component","Fragment","InputGroup","FormControl","Button","withRouter","RealDataBase","SearchComponent","props","onChange","e","setState","dogs","console","log","state","suggestions","userInput","currentTarget","value","filteredSuggestions","filter","suggestion","toLowerCase","indexOf","activeSuggestion","showSuggestions","onClick","innerText","onKeyDown","keyCode","length","currentZip","handleClick","bind","suggestionsListComponent","map","index","className","children","text","handleChange","history","push","pathname","search","defaultProps"],"mappings":"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","sourcesContent":["\nimport React, { Component, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { InputGroup, FormControl, Button } from 'react-bootstrap';\nimport { withRouter } from 'react-router-dom'\nimport RealDataBase from '../../RealDataBase';\n\nclass SearchComponent extends React.Component {\n  static propTypes = {\n    suggestions: PropTypes.instanceOf(Array)\n  };\n\n  static defaultProps = {\n    suggestions: []\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      dogs:this.props.dogs,\n      userInput: \"\",\n      currentZip:0\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n\n  onChange = e => {\n    //updates state from props on change.\n    this.setState({dogs:this.props.dogs})\n    console.log(this.state.dogs)\n    const { suggestions } = this.props;\n    const userInput = e.currentTarget.value;\n\n    const filteredSuggestions = suggestions.filter(\n      suggestion =>\n        suggestion.toLowerCase().indexOf(userInput.toLowerCase()) > -1\n    );\n\n\n    this.setState({\n      activeSuggestion: 0,\n      filteredSuggestions,\n      showSuggestions: true,\n      userInput: e.currentTarget.value\n    });\n  };\n\n\n  onClick = e => {\n    this.setState({\n      activeSuggestion: 0,\n      filteredSuggestions: [],\n      showSuggestions: false,\n      userInput: e.currentTarget.innerText,\n    });\n  };\n\n  onKeyDown = e => {\n    const { activeSuggestion, filteredSuggestions } = this.state;\n\n    if (e.keyCode === 13) {\n      this.setState({\n        activeSuggestion: 0,\n        showSuggestions: false,\n        userInput: filteredSuggestions[activeSuggestion]\n      });\n    }\n    else if (e.keyCode === 38) {\n      if (activeSuggestion === 0) {\n        return;\n      }\n\n      this.setState({ activeSuggestion: activeSuggestion - 1 });\n    }\n    else if (e.keyCode === 40) {\n      if (activeSuggestion - 1 === filteredSuggestions.length) {\n        return;\n      }\n\n      this.setState({ activeSuggestion: activeSuggestion + 1 });\n    }\n  };\n\n  render() {\n    const {\n      onChange,\n      onClick,\n      onKeyDown,\n      state: {\n        activeSuggestion,\n        filteredSuggestions,\n        showSuggestions,\n        userInput\n      }\n    } = this;\n\n    let suggestionsListComponent;\n\n    if (showSuggestions && userInput) {\n      if (filteredSuggestions.length) {\n        suggestionsListComponent = (\n          <ul class=\"suggestions\">\n            {filteredSuggestions.map((suggestion, index) => {\n              let className;\n\n              if (index === activeSuggestion) {\n                className = \"suggestion-active\";\n              }\n\n              return (\n                <li\n                  className={className}\n                  key={suggestion}\n                  onClick={onClick}\n                >\n                  {suggestion}\n                </li>\n              );\n            })}\n          </ul>\n        );\n      } else {\n        suggestionsListComponent = (\n          <div class=\"no-suggestions\">\n            <em>No suggestions, you're on your own!</em>\n          </div>\n        );\n      }\n    }\n\n    return (\n      <div>\n      <div className=\"search-container\">\n      <h1>{this.props.children}</h1>\n      {this.state.text}\n          <p>Find buddies in your neighborhood</p>\n      </div>\n      <div className=\"search-box\">\n          <InputGroup className=\"mb-3\">\n              <i className=\"fas fa-map-marker-alt icon\" aria-hidden=\"true\"></i>\n              <FormControl onChange={this.handleChange} className=\"input\"\n                  placeholder=\"zip code\"\n                  aria-label=\"zip code\"\n                  aria-describedby=\"basic-addon2\"\n                  onChange={onChange}\n              onKeyDown={onKeyDown}\n              value={userInput}\n\n              />\n              <InputGroup.Append>\n                  <Button onClick={this.handleClick} className=\"search-button\" variant=\"outline-secondary\" onClick={this.handleClick}><i className=\"fa fa-search\"></i></Button>\n              </InputGroup.Append>                        \n          </InputGroup>\n          {suggestionsListComponent}\n\n      </div>\n      \n      </div>\n    )\n  }\n  \n\n  handleClick(e) {\n   \n    console.log(this.state.userInput);\n    RealDataBase.currentZip = this.state.userInput\n     this.props.history.push({\n      pathname: '/dogs',\n      search: this.state.userInput,\n      state: { dogs: this.state.dogs}\n    })\n  }\n\n}\n\n\nexport default withRouter(SearchComponent);\n\n\n"]},"metadata":{},"sourceType":"module"}